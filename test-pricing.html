<!DOCTYPE html>
<html>
<head>
    <title>Pricing Service Test</title>
</head>
<body>
    <h1>Testing Pricing Service Integration</h1>
    <div id="test-results"></div>
    
    <script type="module">
        // Test the pricing service import
        console.log('üß™ Testing pricing service import...');
        
        try {
            const pricingModule = await import('./pricing.js');
            const pricingService = pricingModule.pricingService;
            
            if (pricingService) {
                console.log('‚úÖ Pricing service imported successfully');
                
                // Test basic functionality
                const testPrice = pricingService.calculateVehiclePrice('tesla', 25, 45, {
                    dateTime: new Date(),
                    passengers: 2
                });
                
                console.log('üìä Test pricing result:', testPrice);
                console.log('üí∞ Formatted price:', '$' + pricingService.formatPrice(testPrice.finalPrice));
                
                // Test psychological pricing
                const psychTest = pricingService.applyPsychologicalPricing(234.67);
                console.log('üß† Psychological pricing: $234.67 ‚Üí $' + psychTest);
                
                document.getElementById('test-results').innerHTML = `
                    <h2>‚úÖ Test Results: SUCCESS</h2>
                    <p><strong>Vehicle:</strong> ${testPrice.vehicleName}</p>
                    <p><strong>Base Price:</strong> $${testPrice.basePrice}</p>
                    <p><strong>Final Price:</strong> $${testPrice.finalPrice}</p>
                    <p><strong>Protection Applied:</strong> ${testPrice.protectionApplied}</p>
                    <p><strong>Psychological Pricing Test:</strong> $234.67 ‚Üí $${psychTest}</p>
                    <h3>Console Output:</h3>
                    <p>Check browser console for detailed logs</p>
                `;
            } else {
                throw new Error('pricingService not found in module');
            }
        } catch (error) {
            console.error('‚ùå Test failed:', error);
            document.getElementById('test-results').innerHTML = `
                <h2>‚ùå Test Results: FAILED</h2>
                <p><strong>Error:</strong> ${error.message}</p>
                <p>Check browser console for details</p>
            `;
        }
    </script>
</body>
</html>
